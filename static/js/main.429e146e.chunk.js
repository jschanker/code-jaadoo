(this.webpackJsonpcodejaadoo=this.webpackJsonpcodejaadoo||[]).push([[0],{27:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CodeSnippetRunner}));var _styles_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38),_styles_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_styles_css__WEBPACK_IMPORTED_MODULE_0__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);function CodeSnippetRunner(_ref){var code=_ref.code,printFunctionStr='const print = (...items) => {\n      Array.prototype.forEach.call(items, (item) => {\n      if(item instanceof Array) {\n        item = "[ " + item.map((a) => {\n          if(typeof a === "string") { return "\'" + a.replace("\'", "\\\'") + "\'"; }\n          else { return a; }\n        }).reduce((acc, a) => {\n          return acc + ", " + a;\n        }) + " ]";\n      }\n      document.getElementById("output").appendChild(document.createTextNode(item));\n      document.getElementById("output").appendChild(document.createTextNode(" "));\n    });\n    document.getElementById("output").appendChild(document.createTextNode("\\n"));\n  };';return console.log(printFunctionStr+"\n"+code),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{id:"code-runner",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("button",{onClick:function onClick(){return eval(printFunctionStr+"\n"+code)},children:"Run Code"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("pre",{id:"output"})]})}},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(26),s=n(24),i=n(4),l=(n(36),n.p+"static/media/closed-treasure-chest.32351da1.png"),a=n(1);function u(e){var t=e.spells,n=e.handler,r=e.setClicked,c=o.a.useRef(null);return o.a.useEffect((function(){r&&"function"===typeof r&&t.forEach((function(e){return r(e)&&n(e,{target:c.current})}))}),[r,t,n,c]),Object(a.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",backgroundColor:"rgba(75,0,255,0.5)",overflow:"auto",padding:"5px"},children:Object(a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:["Available Code Spells:",(t||[]).map((function(e){return Object(a.jsx)("button",{onClick:function(t){return n&&n(e,t)},style:{margin:"5px 5px"},ref:"function"===typeof r&&r(e)?c:null,children:e},e)}))]})})}var d=n.p+"static/media/open-treasure-chest-empty.svg.2a02895f.png",p=n.p+"static/media/lock.55b3f1d2.png",j=n.p+"static/media/wizard-walking-forward.f140a331.gif",h=n(9);function b(e){var t,n=e.currentLevel,r=e.levels,c=e.spells,s=(null===r||void 0===r?void 0:r.slice(0,n))||[],b=(null===r||void 0===r?void 0:r.slice(n))||[],x=o.a.useState(null),g=Object(i.a)(x,2),f=g[0],m=g[1];return Object(a.jsxs)("div",{style:{},onClick:function(){return m(null)},children:[Object(a.jsx)(u,{spells:c||["print"]}),null!=f?(t=f,t.index<=n?Object(a.jsx)("div",{style:{position:"fixed",width:"100%",backgroundColor:"rgba(127, 127, 255, 0.75)",borderRadius:"20px"},children:Object(a.jsx)(h.a,{to:"/".concat("treasure"===f.type?"treasure/".concat(f.num):"level/".concat(f.num)),style:{color:"black",textDecoration:"none",display:"flex",justifyContent:"center",padding:"50px 0"},children:"treasure"===f.type?"Click to collect treasure":"Click to Start Level ".concat(f.num)})}):Object(a.jsxs)("div",{style:{position:"fixed",width:"100%",backgroundColor:"rgba(200, 200, 200, 0.5)",borderRadius:"20px",padding:"10px 0"},children:[Object(a.jsx)("img",{src:p,alt:"Locked",width:"100"}),Object(a.jsx)("p",{style:{marginTop:0},children:"You need to successfully complete previous levels before you can access this."})]})):"",s.map((function(e,t){return Object(a.jsx)("div",{style:{borderRadius:"30px",width:"50px",height:"50px",backgroundColor:"gold",textAlign:"center",marginLeft:"auto",marginRight:"auto",marginTop:"10px"},id:e.index,onClick:function(t){console.log(t.currentTarget.id),m(e),t.stopPropagation()},children:"treasure"===e.type?Object(a.jsx)("img",{src:d,width:"40",alt:"open treasure chest"}):"Level ".concat(e.num)})})),Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:j,alt:"The wizard walks forward!",width:"53"})}),b.map((function(e,t){return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(a.jsx)("div",{style:{fontWeight:"bold",color:"#084"},children:0===t&&"Click to proceed \u27a1\ufe0f"}),Object(a.jsx)("div",{style:{borderRadius:"30px",width:"50px",height:"50px",backgroundColor:"#dddddd",textAlign:"center",marginTop:"10px"},id:e.index,onClick:function(t){console.log(t.currentTarget.id),m(e),t.stopPropagation()},children:"treasure"===e.type?Object(a.jsx)("img",{src:l,width:"40",alt:"open treasure chest"}):Object(a.jsx)("span",{children:"Level ".concat(null===e||void 0===e?void 0:e.num)})}),Object(a.jsx)("div",{style:{fontWeight:"bold",color:"#084"},children:0===t&&"\u2b05\ufe0f Click to proceed"})]})})),Object(a.jsx)(h.a,{to:"/",children:"Go back"})]})}var x=n(3),g=function(e){return e.replace(/\s\s+/g," ")};function f(e){var t=e.spells,n=e.setClearedLevel,r=Object(x.n)().level,c=["","Click on a spell once to add its text to your answer.","You can also click on buttons in the problems to add their text. Uh oh! The answer box turned red. This means it's not correct.","No worries, we can click on the button again to remove this code.","Let's type in a space and quotes in the input. Still red.","OK, let's get a hint. Click on this button to remove all incorrect code and find out the next two symbols. This means we'll have to answer one more problem. Oh well, more practice for our wizard.","That's right, we forgot the open parenthesis.","Let's now click on the button again to reinstate the text.","Finally, let's add the remaining quotation marks and closing parenthesis to complete our answer. Yay, it turned green and the text disappeared, so this means we were correct!","That's all there is to it. Type in code and use the buttons to add code as you please. You can also get the full answer by clicking this button. But this means three more problems to solve."],s=o.a.useState({type:"foo",problems:[{description:"Loading...",questionArgs:[],answer:"",answerArgs:[]}]}),l=Object(i.a)(s,2),d=l[0],p=l[1],j=o.a.useState(!1),b=Object(i.a)(j,2),f=b[0],m=b[1],O=o.a.useState(0),_=Object(i.a)(O,2),v=_[0],y=_[1],w=o.a.useState([]),C=Object(i.a)(w,2),k=C[0],E=C[1],S=o.a.useState(""),T=Object(i.a)(S,2),R=T[0],L=T[1],A=o.a.useState(!1),I=Object(i.a)(A,2),M=I[0],B=I[1],P=o.a.useState(0),D=Object(i.a)(P,2),W=D[0],F=D[1],U=o.a.useState("1"===r?1:0),q=Object(i.a)(U,2),K=q[0],N=q[1],z=o.a.useState({x:0,y:0}),H=Object(i.a)(z,2),J=H[0],Y=H[1],G=o.a.useRef(null);o.a.useEffect((function(){G.current&&de(G.current.innerText,G.current)}),[G,K]),o.a.useEffect((function(){void 0!=r&&(console.log("level".concat(r,".json")),fetch("/level".concat(r,".json")).then((function(e){return e.json()})).then((function(e){return p(e)})))}),[r]);var Q=o.a.useState(!1),V=Object(i.a)(Q,2),X=V[0],Z=V[1],$=o.a.useState(1/0),ee=Object(i.a)($,2),te=ee[0],ne=ee[1];o.a.useEffect((function(){var e=Math.floor(Math.random()*d.problems.length),t=d.problems[e].questionArgs.map((function(e){return Math.floor(Math.random()*e.length)}));console.log("A",e,t),y(e),E(t),te===1/0&&"foo"!==(null===d||void 0===d?void 0:d.type)?(console.log(d),ne(d.numToClear||5)):te>0&&f?(ne(te-1),B(!1)):0===te&&n(),m(!1),Z(!1)}),[d,f]);var re,oe,ce=d.problems[v],se=ce.questionArgs,ie=ce.answerArgs,le=ce.answer.replace(/%([0-9]+)/g,(function(e,t){return ie[t-1][k[t-1]]})).replace(/%([0-9]+)/g,(function(e,t){return se[t-1][k[t-1]]})),ae=g(le),ue=g(R),de=function(e,t){K&&null!==t&&void 0!==t&&t.getBoundingClientRect()&&Y({x:t.getBoundingClientRect().x+t.getBoundingClientRect().width/2,y:t.getBoundingClientRect().y+t.getBoundingClientRect().height/2}),4!==K&&5!==K&&K<8?L(R.endsWith(e)?R.slice(0,-e.length):R+e):4===K?L(R+' "'):5===K?(console.log("5",K),L(R.slice(0,-2)+'("')):8===K&&L(R+'")')},pe=ce.description.replace(/%([0-9]+)/g,(function(e,t){return se[t-1][k[t-1]]})).replace(/___+/,ue.substring(0,100)+(re="_",oe=Math.max(ae.length-ue.length,0),Array(oe).fill(re).join(""))).split(/<pre>|<\/pre>/g).map((function(e,t){return t%2===0?e:Object(a.jsx)("pre",{children:e})})).map((function(e,t){return"string"===typeof e?e.split(/<h3>|<\/h3>/g).map((function(e,t){return t%2===0?e:Object(a.jsx)("h3",{children:e})})):e})).flat().map((function(e,t){return"string"===typeof e?e.split(/<codeButton>|<\/codeButton>/g).map((function(e,t){return t%2===0?e:Object(a.jsx)("button",{onClick:function(e){return de(e.target.innerText,e.target)},ref:2===K||3===K||7===K?G:null,children:e})})):e}));return o.a.useEffect((function(){var e=document.getElementById("answer");e&&(e.focus(),e.style.height="",e.style.height=e.scrollHeight-40+"px",ae&&ae===ue?(e.style.backgroundColor="green",setTimeout((function(){m(!0),L(""),e.style.backgroundColor="",M||F(W+1)}),1e3)):ae.startsWith(ue)?e.style.backgroundColor="":(e.style.backgroundColor="red",F(0)))}),[ue,ae,K]),Object(a.jsxs)("div",{style:{marginTop:"45px"},children:[Object(a.jsx)(u,{spells:t,setClicked:1===K&&function(e){return ae.startsWith(e)&&!R.endsWith(e)},handler:function(e,t){de(e,t.target)}}),K>0?Object(a.jsxs)("div",{style:{position:"absolute",top:J.y,left:J.x-10,textAlign:"left"},children:[Object(a.jsx)("span",{role:"img",ariaLabel:"pointer",style:{fontSize:"xx-large"},children:"\ud83d\udc46"}),Object(a.jsxs)("div",{id:"tutorial-directions",style:{backgroundColor:"rgb(255, 255, 205, 1)",maxWidth:"100px",minHeight:"50px",overflow:"hidden",position:"relative",left:"10px",top:"-10px",padding:"5px",transition:"1s"},children:[c[K],Object(a.jsxs)("button",{onClick:function(){return N((K+1)%c.length)},style:{marginTop:"20px",fontWeight:"strong",display:"block"},children:["Click"," ",K<c.length-1?"for the next step":"to finish"]})]})]}):"",te>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h2",{children:["Number of Questions Remaining to Level Up: ",te]}),pe,Object(a.jsxs)("label",{children:[Object(a.jsx)("h3",{children:"Answer:\xa0"}),Object(a.jsx)("textarea",{id:"answer",readOnly:0!==K,value:R,cols:40,rows:1,ref:4===K||8===K?G:null,style:{maxWidth:"95%",backgroundImage:W>=3&&"url('/fire.gif')",backgroundSize:"10% 20px",backgroundRepeat:"repeat-x",backgroundPosition:"100% 100%",fontSize:"xx-large",fontWeight:"bold",padding:"20px 5px",fontFamily:"courier, monospace",resize:"none",borderRadius:"10px"},onChange:function(e){L(e.target.value,e.target)},autoFocus:!0})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{onClick:function(){var e=g(le),t=g(R),n=Array.from(e).findIndex((function(e,n){return e!==t[n]}));-1!==n&&(L(e.substring(0,n+2)),ne(te+1)),F(0)},style:{marginRight:"5px"},ref:5===K?G:null,children:"Fix current answer and 2 character hint (+1 problem to solve)"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("button",{onClick:function(){Z(!X),B(!0),M||(ne(te+3),F(0))},ref:9===K?G:null,children:["Click to"," ",X?"hide answer":"show answer (+3 problems to solve)"]}),Object(a.jsx)("div",{style:{display:X?"block":"none"},children:le}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:Object(a.jsx)(h.a,{to:"/map",onClick:function(e){return window.confirm("Are you sure? If you return to the map, you'll need to start this level from the beginning.")||e.preventDefault()},children:"Quit, and go back to the level map!"})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{style:{color:"green"},children:"SUCCESS! Leveled Up!"}),Object(a.jsx)(h.a,{to:"/map",children:"Go back to the map!"})]})]})}var m=n(27),O=n.p+"static/media/open-treasure-chest-gold.svg.8c7a6d8b.png";function _(e){var t=e.spells,n=e.setSpells,r=e.isOpened,c=e.setOpened,s=Object(x.n)().level,d=void 0===s?0:s,p=r(d),j=o.a.useState(null),b=Object(i.a)(j,2),g=b[0],f=b[1];return o.a.useEffect((function(){console.log("/treasure".concat(d,".json")),fetch("/treasure".concat(d,".json")).then((function(e){return e.json()})).then((function(e){return f(e)}))}),[d]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{spells:t}),p?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:null===g||void 0===g?void 0:g.openedHeading}),Object(a.jsx)("p",{children:Object(a.jsx)("img",{src:O,alt:"Open treasure chest with gold",width:"100"})}),Object(a.jsx)("p",{children:null===g||void 0===g?void 0:g.description}),(null===g||void 0===g?void 0:g.usage)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Example usage:"}),Object(a.jsx)("pre",{children:g.usage})]}),(null===g||void 0===g?void 0:g.output)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Output from spell:"}),Object(a.jsx)(m.a,{code:g.usage})]}),Object(a.jsx)(h.a,{to:"/map",children:"Go forward"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:null===g||void 0===g?void 0:g.closedHeading}),Object(a.jsx)("img",{src:l,style:{width:"200px",height:"auto"},alt:"treasure",onClick:function(e){g&&(c(!0),t.includes(null===g||void 0===g?void 0:g.treasure)||n(t.concat(null===g||void 0===g?void 0:g.treasure)))}}),Object(a.jsx)("h2",{children:"Click the box above to open!"})]})]})}var v=n(11);function y(){var e=function(e){return g.findIndex((function(t){return"treasure"===t.type&&t.num===parseInt(e,10)}))<d},t=o.a.useState(JSON.parse(localStorage.getItem("spells"))||[]),n=Object(i.a)(t,2),r=n[0],c=n[1],l=o.a.useState(parseInt(localStorage.getItem("currentLevel"),10)||0),u=Object(i.a)(l,2),d=u[0],p=u[1],j=o.a.useState([{type:"treasure",num:0},{type:"level",num:1},{type:"treasure",num:1},{type:"level",num:2},{type:"treasure",num:2},{type:"level",num:3},{type:"treasure",num:3},{type:"level",num:4},{type:"treasure",num:4},{type:"level",num:5},{type:"treasure",num:5}].map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{index:t})}))),h=Object(i.a)(j,2),g=h[0];h[1];function m(){console.log("CL",d),localStorage.setItem("currentLevel",d+1),p(d+1)}return o.a.useEffect((function(){localStorage.setItem("spells",JSON.stringify(r))}),[r]),Object(a.jsx)("div",{className:"App",style:{marginTop:"45px"},children:Object(a.jsx)(v.a,{children:Object(a.jsxs)(x.c,{children:[Object(a.jsx)(x.a,{path:"/",exact:!0,element:Object(a.jsx)(_,{spells:r,setSpells:c,isOpened:e,setOpened:m})}),Object(a.jsx)(x.a,{path:"/codejaadoo",exact:!0,element:Object(a.jsx)(_,{spells:r,setSpells:c,isOpened:e,setOpened:m})}),Object(a.jsx)(x.a,{path:"/map",exact:!0,element:Object(a.jsx)(b,{levels:g,currentLevel:d,spells:r})}),Object(a.jsx)(x.a,{path:"/level/:level",exact:!0,element:Object(a.jsx)(f,{spells:r,setClearedLevel:m})}),Object(a.jsx)(x.a,{path:"/treasure/:level",exact:!0,element:Object(a.jsx)(_,{spells:r,setSpells:c,isOpened:e,setOpened:m})})]})})})}var w=document.getElementById("root");Object(c.createRoot)(w).render(Object(a.jsx)(r.StrictMode,{children:Object(a.jsx)(y,{})}))}},[[39,1,2]]]);
//# sourceMappingURL=main.429e146e.chunk.js.map