(this.webpackJsonpcodejaadoo=this.webpackJsonpcodejaadoo||[]).push([[0],{27:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CodeSnippetRunner}));var _styles_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38),_styles_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_styles_css__WEBPACK_IMPORTED_MODULE_0__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);function CodeSnippetRunner(_ref){var code=_ref.code,printFunctionStr='const print = (...items) => {\n      Array.prototype.forEach.call(items, (item) => {\n      if(item instanceof Array) {\n        item = "[ " + item.map((a) => {\n          if(typeof a === "string") { return "\'" + a.replace("\'", "\\\'") + "\'"; }\n          else { return a; }\n        }).reduce((acc, a) => {\n          return acc + ", " + a;\n        }) + " ]";\n      }\n      document.getElementById("output").appendChild(document.createTextNode(item));\n      document.getElementById("output").appendChild(document.createTextNode(" "));\n    });\n    document.getElementById("output").appendChild(document.createTextNode("\\n"));\n  };';return console.log(printFunctionStr+"\n"+code),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{id:"code-runner",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("button",{onClick:function onClick(){return eval(printFunctionStr+"\n"+code)},children:"Run Code"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("pre",{id:"output"})]})}},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(26),o=n(24),a=n(4),l=(n(36),n.p+"static/media/closed-treasure-chest.32351da1.png"),i=n(1);function u(e){var t=e.spells,n=e.handler;return Object(i.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",backgroundColor:"rgba(75,0,255,0.5)",overflow:"auto",padding:"5px"},children:Object(i.jsxs)("span",{style:{whiteSpace:"nowrap"},children:["Available Code Spells:",(t||[]).map((function(e){return Object(i.jsx)("button",{onClick:function(t){return n&&n(e,t)},style:{margin:"5px 5px"},children:e},e)}))]})})}var d=n.p+"static/media/open-treasure-chest-empty.svg.2a02895f.png",p=n.p+"static/media/lock.55b3f1d2.png",j=n.p+"static/media/wizard-walking-forward.f140a331.gif",b=n(9);function h(e){var t,n=e.currentLevel,r=e.levels,s=e.spells,o=(null===r||void 0===r?void 0:r.slice(0,n))||[],h=(null===r||void 0===r?void 0:r.slice(n))||[],_=c.a.useState(null),x=Object(a.a)(_,2),O=x[0],m=x[1];return Object(i.jsxs)("div",{style:{},onClick:function(){return m(null)},children:[Object(i.jsx)(u,{spells:s||["print"]}),null!=O?(t=O,t.index<=n?Object(i.jsx)("div",{style:{position:"fixed",width:"100%",backgroundColor:"rgba(0, 0, 255, 0.75)",borderRadius:"20px",padding:"50px 0"},children:Object(i.jsx)(b.a,{to:"/".concat("treasure"===O.type?"treasure/".concat(O.num):"level/".concat(O.num)),style:{color:"black",textDecoration:"none"},children:"treasure"===O.type?"Click to collect treasure":"Click to Start Level ".concat(O.num)})}):Object(i.jsxs)("div",{style:{position:"fixed",width:"100%",backgroundColor:"rgba(200, 200, 200, 0.5)",borderRadius:"20px",padding:"10px 0"},children:[Object(i.jsx)("img",{src:p,alt:"Locked",width:"100"}),Object(i.jsx)("p",{style:{marginTop:0},children:"You need to successfully complete previous levels before you can access this."})]})):"",o.map((function(e,t){return Object(i.jsx)("div",{style:{borderRadius:"30px",width:"50px",height:"50px",backgroundColor:"gold",textAlign:"center",marginLeft:"auto",marginRight:"auto",marginTop:"10px"},id:e.index,onClick:function(t){console.log(t.currentTarget.id),m(e),t.stopPropagation()},children:"treasure"===e.type?Object(i.jsx)("img",{src:d,width:"40",alt:"open treasure chest"}):"Level ".concat(e.num)})})),Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:j,alt:"The wizard walks forward!",width:"53"})}),h.map((function(e,t){return Object(i.jsx)("div",{style:{borderRadius:"30px",width:"50px",height:"50px",backgroundColor:"#dddddd",textAlign:"center",marginLeft:"auto",marginRight:"auto",marginTop:"10px"},id:e.index,onClick:function(t){console.log(t.currentTarget.id),m(e),t.stopPropagation()},children:"treasure"===e.type?Object(i.jsx)("img",{src:l,width:"40",alt:"open treasure chest"}):Object(i.jsx)("span",{children:"Level ".concat(null===e||void 0===e?void 0:e.num)})})})),Object(i.jsx)(b.a,{to:"/",children:"Go back"})]})}var _=n(3),x=function(e){return e.replace(/\s\s+/g," ")};function O(e){var t=e.spells,n=e.setClearedLevel,r=Object(_.n)().level,s=c.a.useState({type:"foo",problems:[{description:"Loading...",questionArgs:[],answer:"",answerArgs:[]}]}),o=Object(a.a)(s,2),l=o[0],d=o[1],p=c.a.useState(!1),j=Object(a.a)(p,2),h=j[0],O=j[1],m=c.a.useState(0),g=Object(a.a)(m,2),f=g[0],v=g[1],y=c.a.useState([]),C=Object(a.a)(y,2),w=C[0],k=C[1],E=c.a.useState(""),S=Object(a.a)(E,2),A=S[0],L=S[1],M=c.a.useState(!1),I=Object(a.a)(M,2),T=I[0],R=I[1];c.a.useEffect((function(){void 0!=r&&(console.log("level".concat(r,".json")),fetch("/codejaadoo/level".concat(r,".json")).then((function(e){return e.json()})).then((function(e){return d(e)})))}),[r]);var D=c.a.useState(!1),P=Object(a.a)(D,2),B=P[0],U=P[1],F=c.a.useState(1/0),W=Object(a.a)(F,2),q=W[0],K=W[1];c.a.useEffect((function(){var e=Math.floor(Math.random()*l.problems.length),t=l.problems[e].questionArgs.map((function(e){return Math.floor(Math.random()*e.length)}));console.log("A",e,t),v(e),k(t),q===1/0&&"foo"!==(null===l||void 0===l?void 0:l.type)?(console.log(l),K(l.numToClear||5)):q>0&&h?(K(q-1),R(!1)):0===q&&n(),O(!1),U(!1)}),[l,h]);var N,J,z=l.problems[f],G=z.questionArgs,H=z.answerArgs,Q=z.answer.replace(/%([0-9]+)/g,(function(e,t){return H[t-1][w[t-1]]})).replace(/%([0-9]+)/g,(function(e,t){return G[t-1][w[t-1]]})),Y=x(Q),V=x(A),X=z.description.replace(/%([0-9]+)/g,(function(e,t){return G[t-1][w[t-1]]})).replace(/___+/,V.substring(0,100)+(N="_",J=Math.max(Y.length-V.length,0),Array(J).fill(N).join(""))).split(/<pre>|<\/pre>/g).map((function(e,t){return t%2===0?e:Object(i.jsx)("pre",{children:e})})).map((function(e,t){return"string"===typeof e?e.split(/<h3>|<\/h3>/g).map((function(e,t){return t%2===0?e:Object(i.jsx)("h3",{children:e})})):e}));return c.a.useEffect((function(){var e=document.getElementById("answer");e&&(Y===V?(e.style.backgroundColor="green",setTimeout((function(){O(!0),L(""),e.style.backgroundColor=""}),1e3)):Y.startsWith(V)?e.style.backgroundColor="":e.style.backgroundColor="red")}),[V,Y]),Object(i.jsxs)("div",{style:{marginTop:"45px"},children:[Object(i.jsx)(u,{spells:t,handler:function(e){L(A+e)}}),q>0?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h2",{children:["Number of Questions Remaining to Level Up: ",q]}),X,Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:function(){var e=x(Q),t=x(A),n=Array.from(e).findIndex((function(e,n){return e!==t[n]}));-1!==n&&(L(e.substring(0,n+2)),K(q+1))},style:{marginRight:"5px"},children:"Fix current answer and 2 character hint (+1 problem to solve)"}),Object(i.jsxs)("button",{onClick:function(){U(!B),R(!0),T||K(q+3)},children:["Click to"," ",B?"hide answer":"show answer (+3 problems to solve)"]}),Object(i.jsx)("div",{style:{display:B?"block":"none"},children:Q}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("label",{children:["Answer:\xa0",Object(i.jsx)("input",{id:"answer",value:A,size:50,style:{maxWidth:"100%"},onChange:function(e){L(e.target.value)}})]}),Object(i.jsx)("p",{children:Object(i.jsx)(b.a,{to:"/map",onClick:function(e){return window.confirm("Are you sure? If you return to the map, you'll need to start this level from the beginning.")||e.preventDefault()},children:"Quit, and go back to the level map!"})})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{style:{color:"green"},children:"SUCCESS! Leveled Up!"}),Object(i.jsx)(b.a,{to:"/map",children:"Go back to the map!"})]})]})}var m=n(27),g=n.p+"static/media/open-treasure-chest-gold.svg.8c7a6d8b.png";function f(e){var t=e.spells,n=e.setSpells,r=e.isOpened,s=e.setOpened,o=Object(_.n)().level,d=void 0===o?0:o,p=r(d),j=c.a.useState(null),h=Object(a.a)(j,2),x=h[0],O=h[1];return c.a.useEffect((function(){console.log("/treasure".concat(d,".json")),fetch("/codejaadoo/treasure".concat(d,".json")).then((function(e){return e.json()})).then((function(e){return O(e)}))}),[d]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(u,{spells:t}),p?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:null===x||void 0===x?void 0:x.openedHeading}),Object(i.jsx)("p",{children:Object(i.jsx)("img",{src:g,alt:"Open treasure chest with gold",width:"100"})}),Object(i.jsx)("p",{children:null===x||void 0===x?void 0:x.description}),(null===x||void 0===x?void 0:x.usage)&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Example usage:"}),Object(i.jsx)("pre",{children:x.usage})]}),(null===x||void 0===x?void 0:x.output)&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Output from spell:"}),Object(i.jsx)(m.a,{code:x.usage})]}),Object(i.jsx)(b.a,{to:"/map",children:"Go forward"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:null===x||void 0===x?void 0:x.closedHeading}),Object(i.jsx)("img",{src:l,style:{width:"200px",height:"auto"},alt:"treasure",onClick:function(e){x&&(s(!0),t.includes(null===x||void 0===x?void 0:x.treasure)||n(t.concat(null===x||void 0===x?void 0:x.treasure)))}}),Object(i.jsx)("h2",{children:"Click the box above to open!"})]})]})}var v=n(11);function y(){var e=function(e){return x.findIndex((function(t){return"treasure"===t.type&&t.num===parseInt(e,10)}))<d},t=c.a.useState(JSON.parse(localStorage.getItem("spells"))||[]),n=Object(a.a)(t,2),r=n[0],s=n[1],l=c.a.useState(parseInt(localStorage.getItem("currentLevel"),10)||0),u=Object(a.a)(l,2),d=u[0],p=u[1],j=c.a.useState([{type:"treasure",num:0},{type:"level",num:1},{type:"treasure",num:1},{type:"level",num:2},{type:"treasure",num:2},{type:"level",num:3},{type:"treasure",num:3},{type:"level",num:4},{type:"treasure",num:4},{type:"level",num:5},{type:"treasure",num:5}].map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{index:t})}))),b=Object(a.a)(j,2),x=b[0];b[1];function m(){console.log("CL",d),localStorage.setItem("currentLevel",d+1),p(d+1)}return c.a.useEffect((function(){localStorage.setItem("spells",JSON.stringify(r))}),[r]),Object(i.jsx)("div",{className:"App",style:{marginTop:"45px"},children:Object(i.jsx)(v.a,{children:Object(i.jsxs)(_.c,{children:[Object(i.jsx)(_.a,{path:"/",exact:!0,element:Object(i.jsx)(f,{spells:r,setSpells:s,isOpened:e,setOpened:m})}),Object(i.jsx)(_.a,{path:"/codejaadoo",exact:!0,element:Object(i.jsx)(f,{spells:r,setSpells:s,isOpened:e,setOpened:m})}),Object(i.jsx)(_.a,{path:"/map",exact:!0,element:Object(i.jsx)(h,{levels:x,currentLevel:d,spells:r})}),Object(i.jsx)(_.a,{path:"/level/:level",exact:!0,element:Object(i.jsx)(O,{spells:r,setClearedLevel:m})}),Object(i.jsx)(_.a,{path:"/treasure/:level",exact:!0,element:Object(i.jsx)(f,{spells:r,setSpells:s,isOpened:e,setOpened:m})})]})})})}var C=document.getElementById("root");Object(s.createRoot)(C).render(Object(i.jsx)(r.StrictMode,{children:Object(i.jsx)(y,{})}))}},[[39,1,2]]]);
//# sourceMappingURL=main.63a4ac2f.chunk.js.map