(this.webpackJsonpcodejaadoo=this.webpackJsonpcodejaadoo||[]).push([[0],{27:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CodeSnippetRunner}));var _styles_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38),_styles_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_styles_css__WEBPACK_IMPORTED_MODULE_0__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);function CodeSnippetRunner(_ref){var code=_ref.code,printFunctionStr='const print = (...items) => {\n      Array.prototype.forEach.call(items, (item) => {\n      if(item instanceof Array) {\n        item = "[ " + item.map((a) => {\n          if(typeof a === "string") { return "\'" + a.replace("\'", "\\\'") + "\'"; }\n          else { return a; }\n        }).reduce((acc, a) => {\n          return acc + ", " + a;\n        }) + " ]";\n      }\n      document.getElementById("output").appendChild(document.createTextNode(item));\n      document.getElementById("output").appendChild(document.createTextNode(" "));\n    });\n    document.getElementById("output").appendChild(document.createTextNode("\\n"));\n  };';return console.log(printFunctionStr+"\n"+code),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{id:"code-runner",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("button",{onClick:function onClick(){return eval(printFunctionStr+"\n"+code)},children:"Run Code"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("pre",{id:"output"})]})}},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(26),o=n(24),a=n(4),l=(n(36),n.p+"static/media/closed-treasure-chest.32351da1.png"),i=n(1);function u(e){var t=e.spells,n=e.handler;return Object(i.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",backgroundColor:"rgba(75,0,255,0.5)",overflow:"auto",padding:"5px"},children:Object(i.jsxs)("span",{style:{whiteSpace:"nowrap"},children:["Available Code Spells:",(t||[]).map((function(e){return Object(i.jsx)("button",{onClick:function(t){return n&&n(e,t)},style:{margin:"5px 5px"},children:e},e)}))]})})}var d=n.p+"static/media/open-treasure-chest-empty.svg.2a02895f.png",p=n.p+"static/media/lock.55b3f1d2.png",j=n.p+"static/media/wizard-walking-forward.f140a331.gif",b=n(9);function x(e){var t,n=e.currentLevel,r=e.levels,s=e.spells,o=(null===r||void 0===r?void 0:r.slice(0,n))||[],x=(null===r||void 0===r?void 0:r.slice(n))||[],h=c.a.useState(null),g=Object(a.a)(h,2),O=g[0],_=g[1];return Object(i.jsxs)("div",{style:{},onClick:function(){return _(null)},children:[Object(i.jsx)(u,{spells:s||["print"]}),null!=O?(t=O,t.index<=n?Object(i.jsx)("div",{style:{position:"fixed",width:"100%",backgroundColor:"rgba(127, 127, 255, 0.75)",borderRadius:"20px"},children:Object(i.jsx)(b.a,{to:"/".concat("treasure"===O.type?"treasure/".concat(O.num):"level/".concat(O.num)),style:{color:"black",textDecoration:"none",display:"flex",justifyContent:"center",padding:"50px 0"},children:"treasure"===O.type?"Click to collect treasure":"Click to Start Level ".concat(O.num)})}):Object(i.jsxs)("div",{style:{position:"fixed",width:"100%",backgroundColor:"rgba(200, 200, 200, 0.5)",borderRadius:"20px",padding:"10px 0"},children:[Object(i.jsx)("img",{src:p,alt:"Locked",width:"100"}),Object(i.jsx)("p",{style:{marginTop:0},children:"You need to successfully complete previous levels before you can access this."})]})):"",o.map((function(e,t){return Object(i.jsx)("div",{style:{borderRadius:"30px",width:"50px",height:"50px",backgroundColor:"gold",textAlign:"center",marginLeft:"auto",marginRight:"auto",marginTop:"10px"},id:e.index,onClick:function(t){console.log(t.currentTarget.id),_(e),t.stopPropagation()},children:"treasure"===e.type?Object(i.jsx)("img",{src:d,width:"40",alt:"open treasure chest"}):"Level ".concat(e.num)})})),Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:j,alt:"The wizard walks forward!",width:"53"})}),x.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(i.jsx)("div",{style:{fontWeight:"bold",color:"#084"},children:0===t&&"Click to proceed \u27a1\ufe0f"}),Object(i.jsx)("div",{style:{borderRadius:"30px",width:"50px",height:"50px",backgroundColor:"#dddddd",textAlign:"center",marginTop:"10px"},id:e.index,onClick:function(t){console.log(t.currentTarget.id),_(e),t.stopPropagation()},children:"treasure"===e.type?Object(i.jsx)("img",{src:l,width:"40",alt:"open treasure chest"}):Object(i.jsx)("span",{children:"Level ".concat(null===e||void 0===e?void 0:e.num)})}),Object(i.jsx)("div",{style:{fontWeight:"bold",color:"#084"},children:0===t&&"\u2b05\ufe0f Click to proceed"})]})})),Object(i.jsx)(b.a,{to:"/",children:"Go back"})]})}var h=n(3),g=function(e){return e.replace(/\s\s+/g," ")};function O(e){var t=e.spells,n=e.setClearedLevel,r=Object(h.n)().level,s=c.a.useState({type:"foo",problems:[{description:"Loading...",questionArgs:[],answer:"",answerArgs:[]}]}),o=Object(a.a)(s,2),l=o[0],d=o[1],p=c.a.useState(!1),j=Object(a.a)(p,2),x=j[0],O=j[1],_=c.a.useState(0),m=Object(a.a)(_,2),f=m[0],v=m[1],y=c.a.useState([]),C=Object(a.a)(y,2),k=C[0],w=C[1],E=c.a.useState(""),S=Object(a.a)(E,2),A=S[0],I=S[1],L=c.a.useState(!1),M=Object(a.a)(L,2),T=M[0],R=M[1],P=c.a.useState(0),D=Object(a.a)(P,2),B=D[0],W=D[1];c.a.useEffect((function(){void 0!=r&&(console.log("level".concat(r,".json")),fetch("/level".concat(r,".json")).then((function(e){return e.json()})).then((function(e){return d(e)})))}),[r]);var F=c.a.useState(!1),U=Object(a.a)(F,2),q=U[0],K=U[1],N=c.a.useState(1/0),z=Object(a.a)(N,2),J=z[0],G=z[1];c.a.useEffect((function(){var e=Math.floor(Math.random()*l.problems.length),t=l.problems[e].questionArgs.map((function(e){return Math.floor(Math.random()*e.length)}));console.log("A",e,t),v(e),w(t),J===1/0&&"foo"!==(null===l||void 0===l?void 0:l.type)?(console.log(l),G(l.numToClear||5)):J>0&&x?(G(J-1),R(!1)):0===J&&n(),O(!1),K(!1)}),[l,x]);var H,Q,Y=l.problems[f],V=Y.questionArgs,X=Y.answerArgs,Z=Y.answer.replace(/%([0-9]+)/g,(function(e,t){return X[t-1][k[t-1]]})).replace(/%([0-9]+)/g,(function(e,t){return V[t-1][k[t-1]]})),$=g(Z),ee=g(A),te=function(e){I(A.endsWith(e)?A.slice(0,-e.length):A+e)},ne=Y.description.replace(/%([0-9]+)/g,(function(e,t){return V[t-1][k[t-1]]})).replace(/___+/,ee.substring(0,100)+(H="_",Q=Math.max($.length-ee.length,0),Array(Q).fill(H).join(""))).split(/<pre>|<\/pre>/g).map((function(e,t){return t%2===0?e:Object(i.jsx)("pre",{children:e})})).map((function(e,t){return"string"===typeof e?e.split(/<h3>|<\/h3>/g).map((function(e,t){return t%2===0?e:Object(i.jsx)("h3",{children:e})})):e})).flat().map((function(e,t){return"string"===typeof e?e.split(/<codeButton>|<\/codeButton>/g).map((function(e,t){return t%2===0?e:Object(i.jsx)("button",{onClick:function(e){return te(e.target.innerText)},children:e})})):e}));return c.a.useEffect((function(){var e=document.getElementById("answer");e&&(e.focus(),e.style.height="",e.style.height=e.scrollHeight-40+"px",$&&$===ee?(e.style.backgroundColor="green",setTimeout((function(){O(!0),I(""),e.style.backgroundColor="",T||W(B+1)}),1e3)):$.startsWith(ee)?e.style.backgroundColor="":(e.style.backgroundColor="red",W(0)))}),[ee,$]),Object(i.jsxs)("div",{style:{marginTop:"45px"},children:[Object(i.jsx)(u,{spells:t,handler:function(e){te(e)}}),J>0?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h2",{children:["Number of Questions Remaining to Level Up: ",J]}),ne,Object(i.jsxs)("label",{children:[Object(i.jsx)("h3",{children:"Answer:\xa0"}),Object(i.jsx)("textarea",{id:"answer",value:A,cols:40,rows:1,style:{maxWidth:"95%",backgroundImage:B>=3&&"url('/fire.gif')",backgroundSize:"10% 20px",backgroundRepeat:"repeat-x",backgroundPosition:"100% 100%",fontSize:"xx-large",fontWeight:"bold",padding:"20px 5px",fontFamily:"courier, monospace",resize:"none",borderRadius:"10px"},onChange:function(e){I(e.target.value)},autoFocus:!0})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{onClick:function(){var e=g(Z),t=g(A),n=Array.from(e).findIndex((function(e,n){return e!==t[n]}));-1!==n&&(I(e.substring(0,n+2)),G(J+1)),W(0)},style:{marginRight:"5px"},children:"Fix current answer and 2 character hint (+1 problem to solve)"}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("button",{onClick:function(){K(!q),R(!0),T||(G(J+3),W(0))},children:["Click to"," ",q?"hide answer":"show answer (+3 problems to solve)"]}),Object(i.jsx)("div",{style:{display:q?"block":"none"},children:Z}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("p",{children:Object(i.jsx)(b.a,{to:"/map",onClick:function(e){return window.confirm("Are you sure? If you return to the map, you'll need to start this level from the beginning.")||e.preventDefault()},children:"Quit, and go back to the level map!"})})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{style:{color:"green"},children:"SUCCESS! Leveled Up!"}),Object(i.jsx)(b.a,{to:"/map",children:"Go back to the map!"})]})]})}var _=n(27),m=n.p+"static/media/open-treasure-chest-gold.svg.8c7a6d8b.png";function f(e){var t=e.spells,n=e.setSpells,r=e.isOpened,s=e.setOpened,o=Object(h.n)().level,d=void 0===o?0:o,p=r(d),j=c.a.useState(null),x=Object(a.a)(j,2),g=x[0],O=x[1];return c.a.useEffect((function(){console.log("/treasure".concat(d,".json")),fetch("/treasure".concat(d,".json")).then((function(e){return e.json()})).then((function(e){return O(e)}))}),[d]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(u,{spells:t}),p?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:null===g||void 0===g?void 0:g.openedHeading}),Object(i.jsx)("p",{children:Object(i.jsx)("img",{src:m,alt:"Open treasure chest with gold",width:"100"})}),Object(i.jsx)("p",{children:null===g||void 0===g?void 0:g.description}),(null===g||void 0===g?void 0:g.usage)&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Example usage:"}),Object(i.jsx)("pre",{children:g.usage})]}),(null===g||void 0===g?void 0:g.output)&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Output from spell:"}),Object(i.jsx)(_.a,{code:g.usage})]}),Object(i.jsx)(b.a,{to:"/map",children:"Go forward"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:null===g||void 0===g?void 0:g.closedHeading}),Object(i.jsx)("img",{src:l,style:{width:"200px",height:"auto"},alt:"treasure",onClick:function(e){g&&(s(!0),t.includes(null===g||void 0===g?void 0:g.treasure)||n(t.concat(null===g||void 0===g?void 0:g.treasure)))}}),Object(i.jsx)("h2",{children:"Click the box above to open!"})]})]})}var v=n(11);function y(){var e=function(e){return g.findIndex((function(t){return"treasure"===t.type&&t.num===parseInt(e,10)}))<d},t=c.a.useState(JSON.parse(localStorage.getItem("spells"))||[]),n=Object(a.a)(t,2),r=n[0],s=n[1],l=c.a.useState(parseInt(localStorage.getItem("currentLevel"),10)||0),u=Object(a.a)(l,2),d=u[0],p=u[1],j=c.a.useState([{type:"treasure",num:0},{type:"level",num:1},{type:"treasure",num:1},{type:"level",num:2},{type:"treasure",num:2},{type:"level",num:3},{type:"treasure",num:3},{type:"level",num:4},{type:"treasure",num:4},{type:"level",num:5},{type:"treasure",num:5}].map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{index:t})}))),b=Object(a.a)(j,2),g=b[0];b[1];function _(){console.log("CL",d),localStorage.setItem("currentLevel",d+1),p(d+1)}return c.a.useEffect((function(){localStorage.setItem("spells",JSON.stringify(r))}),[r]),Object(i.jsx)("div",{className:"App",style:{marginTop:"45px"},children:Object(i.jsx)(v.a,{children:Object(i.jsxs)(h.c,{children:[Object(i.jsx)(h.a,{path:"/",exact:!0,element:Object(i.jsx)(f,{spells:r,setSpells:s,isOpened:e,setOpened:_})}),Object(i.jsx)(h.a,{path:"/codejaadoo",exact:!0,element:Object(i.jsx)(f,{spells:r,setSpells:s,isOpened:e,setOpened:_})}),Object(i.jsx)(h.a,{path:"/map",exact:!0,element:Object(i.jsx)(x,{levels:g,currentLevel:d,spells:r})}),Object(i.jsx)(h.a,{path:"/level/:level",exact:!0,element:Object(i.jsx)(O,{spells:r,setClearedLevel:_})}),Object(i.jsx)(h.a,{path:"/treasure/:level",exact:!0,element:Object(i.jsx)(f,{spells:r,setSpells:s,isOpened:e,setOpened:_})})]})})})}var C=document.getElementById("root");Object(s.createRoot)(C).render(Object(i.jsx)(r.StrictMode,{children:Object(i.jsx)(y,{})}))}},[[39,1,2]]]);
//# sourceMappingURL=main.cbb7300d.chunk.js.map