(this.webpackJsonpcodejaadoo=this.webpackJsonpcodejaadoo||[]).push([[0],{28:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CodeSnippetRunner}));var _styles_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40),_styles_css__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_styles_css__WEBPACK_IMPORTED_MODULE_0__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);function CodeSnippetRunner(_ref){var code=_ref.code,runCallback=_ref.runCallback,printFunctionStr='const print = (...items) => {\n      Array.prototype.forEach.call(items, (item) => {\n      if(item instanceof Array) {\n        item = "[ " + item.map((a) => {\n          if(typeof a === "string") { return "\'" + a.replace("\'", "\\\'") + "\'"; }\n          else { return a; }\n        }).reduce((acc, a) => {\n          return acc + ", " + a;\n        }) + " ]";\n      }\n      document.getElementById("output").appendChild(document.createTextNode(item));\n      document.getElementById("output").appendChild(document.createTextNode(" "));\n    });\n    document.getElementById("output").appendChild(document.createTextNode("\\n"));\n  };';return console.log(printFunctionStr+"\n"+code),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{id:"code-runner",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("button",{onClick:function onClick(){eval(printFunctionStr+"\n"+code),"function"===typeof runCallback&&runCallback()},children:"Run Code"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("pre",{id:"output"})]})}},37:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(26),s=n(25),l=n(4),a=(n(37),n.p+"static/media/closed-treasure-chest.32351da1.png"),i=n(1);function u(e){var t=e.spells,n=e.handler,r=e.setClicked,c=o.a.useRef(null);return o.a.useEffect((function(){r&&"function"===typeof r&&t.forEach((function(e){return r(e)&&n(e,{target:c.current})}))}),[r,t,n,c]),Object(i.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",backgroundColor:"rgba(75,0,255,0.5)",overflow:"auto",padding:"5px"},children:Object(i.jsxs)("span",{style:{whiteSpace:"nowrap"},children:["Available Code Spells:",(t||[]).map((function(e){return Object(i.jsx)("button",{onClick:function(t){return n&&n(e,t)},style:{margin:"5px 5px"},ref:"function"===typeof r&&r(e)?c:null,children:e},e)}))]})})}var d=n.p+"static/media/open-treasure-chest-empty.svg.2a02895f.png",p=n.p+"static/media/lock.55b3f1d2.png",j=n.p+"static/media/wizard-walking-forward.f140a331.gif",b=n(9);function h(e){var t,n=e.currentLevel,r=e.levels,c=e.spells,s=(null===r||void 0===r?void 0:r.slice(0,n))||[],h=(null===r||void 0===r?void 0:r.slice(n))||[],g=o.a.useState(null),x=Object(l.a)(g,2),f=x[0],m=x[1];return Object(i.jsxs)("div",{style:{},onClick:function(){return m(null)},children:[Object(i.jsx)(u,{spells:c||["print"]}),null!=f?(t=f,t.index<=n?Object(i.jsx)("div",{style:{position:"fixed",width:"100%",backgroundColor:"rgba(127, 127, 255, 0.75)",borderRadius:"20px"},children:Object(i.jsx)(b.a,{to:"/".concat("treasure"===f.type?"treasure/".concat(f.num):"level/".concat(f.num)),style:{color:"black",textDecoration:"none",display:"flex",justifyContent:"center",padding:"50px 0"},children:"treasure"===f.type?"Click to collect treasure":"Click to Start Level ".concat(f.num)})}):Object(i.jsxs)("div",{style:{position:"fixed",width:"100%",backgroundColor:"rgba(200, 200, 200, 0.5)",borderRadius:"20px",padding:"10px 0"},children:[Object(i.jsx)("img",{src:p,alt:"Locked",width:"100"}),Object(i.jsx)("p",{style:{marginTop:0},children:"You need to successfully complete previous levels before you can access this."})]})):"",s.map((function(e,t){return Object(i.jsx)("div",{style:{borderRadius:"30px",width:"50px",height:"50px",backgroundColor:"gold",textAlign:"center",marginLeft:"auto",marginRight:"auto",marginTop:"10px"},id:e.index,onClick:function(t){console.log(t.currentTarget.id),m(e),t.stopPropagation()},children:"treasure"===e.type?Object(i.jsx)("img",{src:d,width:"40",alt:"open treasure chest"}):"Level ".concat(e.num)})})),Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:j,alt:"The wizard walks forward!",width:"53"})}),h.map((function(e,t){return Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(i.jsx)("div",{style:{fontWeight:"bold",color:"#084"},children:0===t&&"Click to proceed \u27a1\ufe0f"}),Object(i.jsx)("div",{style:{borderRadius:"30px",width:"50px",height:"50px",backgroundColor:"#dddddd",textAlign:"center",marginTop:"10px"},id:e.index,onClick:function(t){console.log(t.currentTarget.id),m(e),t.stopPropagation()},children:"treasure"===e.type?Object(i.jsx)("img",{src:a,width:"40",alt:"open treasure chest"}):Object(i.jsx)("span",{children:"Level ".concat(null===e||void 0===e?void 0:e.num)})}),Object(i.jsx)("div",{style:{fontWeight:"bold",color:"#084"},children:0===t&&"\u2b05\ufe0f Click to proceed"})]})})),Object(i.jsx)(b.a,{to:"/",children:"Go back"})]})}var g=n(3),x=n(27),f=n.n(x),m=function(e){return e.replace(/\s\s+/g," ")};function O(e){e.spells;var t=e.setClearedLevel,n=Object(g.n)().level,r=["","Click on a spell once to add its text to your answer.","You can also click on buttons in the problems to add their text. Uh oh! The answer box turned red. This means it's not correct.","No worries, we can click on the button again to remove this code.","Let's type in a space and quotes in the input. Still red.","OK, let's get a hint. Click on this button to remove all incorrect code and find out the next two symbols. This means we'll have to answer one more problem. Oh well, more practice for our wizard.","That's right, we forgot the open parenthesis.","Let's now click on the button again to reinstate the text.","Finally, let's add the remaining quotation marks and closing parenthesis to complete our answer. Yay, it turned green and the text disappeared, so this means we were correct!","That's all there is to it. Type in code and use the buttons to add code as you please. You can also get the full answer by clicking this button. But this means three more problems to solve."],c=o.a.useState({type:"foo",problems:[{description:"Loading...",questionArgs:[],answer:"",answerArgs:[]}]}),s=Object(l.a)(c,2),a=s[0],u=s[1],d=o.a.useState(!1),p=Object(l.a)(d,2),j=p[0],h=p[1],x=o.a.useState(0),O=Object(l.a)(x,2),_=O[0],v=O[1],y=o.a.useState([]),k=Object(l.a)(y,2),C=k[0],w=k[1],S=o.a.useState(""),E=Object(l.a)(S,2),T=E[0],R=E[1],A=o.a.useState([]),B=Object(l.a)(A,2),L=B[0],I=B[1],M=o.a.useState(!1),D=Object(l.a)(M,2),P=D[0],W=D[1],F=o.a.useState(0),U=Object(l.a)(F,2),q=U[0],K=U[1],N=o.a.useState(0),z=Object(l.a)(N,2),H=z[0],J=z[1],Y=o.a.useState({x:0,y:0}),G=Object(l.a)(Y,2),Q=G[0],V=G[1],X=o.a.useRef(null);o.a.useEffect((function(){console.log(X.current,""),X.current&&be(X.current.innerText,X.current)}),[X,H]),o.a.useEffect((function(){void 0!=n&&(console.log("level".concat(n,".json")),fetch("/level".concat(n,".json")).then((function(e){return e.json()})).then((function(e){return u(e)})))}),[n]);var Z=o.a.useState(!1),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ne=o.a.useState(1/0),re=Object(l.a)(ne,2),oe=re[0],ce=re[1];o.a.useEffect((function(){var e=Math.floor(Math.random()*a.problems.length),n=a.problems[e].questionArgs.map((function(e){return Math.floor(Math.random()*e.length)}));console.log("A",e,n),v(e),w(n),I(f.a.shuffle((null===ae||void 0===ae?void 0:ae.answerBlocks)||[]).map((function(e,t){return{value:e.replace(/%([0-9]+)/g,(function(e,t){return ue[t-1][n[t-1]]})).replace(/%([0-9]+)/g,(function(e,t){return ie[t-1][n[t-1]]})),used:!1}}))),oe===1/0&&"foo"!==(null===a||void 0===a?void 0:a.type)?(console.log(a),ce(a.numToClear||5)):oe>0&&j?(ce(oe-1),W(!1)):0===oe&&t(),h(!1),te(!1)}),[a,j]);var se,le,ae=a.problems[_],ie=ae.questionArgs,ue=ae.answerArgs,de=ae.answer.replace(/%([0-9]+)/g,(function(e,t){return ue[t-1][C[t-1]]})).replace(/%([0-9]+)/g,(function(e,t){return ie[t-1][C[t-1]]})),pe=m(de),je=m(T),be=function(e,t){H>0&&null!==t&&void 0!==t&&t.getBoundingClientRect()&&(V({x:t.getBoundingClientRect().x+t.getBoundingClientRect().width/2,y:t.getBoundingClientRect().y+t.getBoundingClientRect().height/2}),t.style.animation="buttonBlink 500ms 5",t.style.backgroundColor="rgb(239, 239, 239)"),4!==H&&5!==H&&H<8?R(T.endsWith(e)?T.slice(0,-e.length):T+e):4===H?R(T+' "'):5===H?(console.log("5",H),R(T.slice(0,-2)+'("')):8===H&&R(T+'")')},he=ae.description.replace(/%([0-9]+)/g,(function(e,t){return ie[t-1][C[t-1]]})).replace(/___+/,je.substring(0,100)+(se="_",le=Math.max(pe.length-je.length,0),Array(le).fill(se).join(""))).split(/<pre>|<\/pre>/g).map((function(e,t){return t%2===0?e:Object(i.jsx)("pre",{children:e})})).map((function(e,t){return"string"===typeof e?e.split(/<h3>|<\/h3>/g).map((function(e,t){return t%2===0?e:Object(i.jsx)("h3",{children:e})})):e})).flat().map((function(e,t){return"string"===typeof e?e.split(/<codeButton>|<\/codeButton>/g).map((function(e,t){return t%2===0?e:Object(i.jsx)("button",{onClick:function(e){return be(e.target.innerText,e.target)},disabled:0!==H&&2!==H&&3!==H&&7!==H,ref:2===H||3===H||7===H?X:null,children:e})})):e}));return o.a.useEffect((function(){var e=document.getElementById("answer");e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length),e.style.height="",e.style.height=e.scrollHeight-40+"px",pe&&pe===je?(e.style.backgroundColor="green",setTimeout((function(){h(!0),R(""),e.style.backgroundColor="",P||K(q+1)}),1e3)):pe.startsWith(je)?e.style.backgroundColor="":(e.style.backgroundColor="red",K(0)))}),[je,pe,H]),Object(i.jsxs)("div",{style:{marginTop:"45px"},children:[H>0?Object(i.jsxs)("div",{style:{position:"absolute",top:Q.y,left:Q.x-10,textAlign:"left"},children:[Object(i.jsx)("span",{role:"img",ariaLabel:"pointer",style:{fontSize:"xx-large"},children:"\ud83d\udc46"}),Object(i.jsxs)("div",{id:"tutorial-directions",style:{backgroundColor:"rgb(255, 255, 205, 1)",maxWidth:"100px",minHeight:"50px",overflow:"hidden",position:"relative",left:"10px",top:"-10px",padding:"5px",transition:"1s"},children:[r[H],Object(i.jsxs)("button",{onClick:function(){return J((H+1)%r.length)},style:{marginTop:"20px",fontWeight:"strong",display:"block"},children:["Click"," ",H<r.length-1?"for the next step":"to finish"]})]})]}):"",oe>0?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("h2",{children:["Number of Questions Remaining to Level Up: ",oe]}),he,Object(i.jsxs)("label",{style:{display:"none"},children:[Object(i.jsx)("h3",{children:"Answer:\xa0"}),Object(i.jsx)("textarea",{id:"answerOld",readOnly:0!==H,value:T,cols:40,rows:1,ref:4===H||8===H?X:null,style:{maxWidth:"95%",backgroundImage:q>=3&&"url('/fire.gif')",backgroundSize:"10% 20px",backgroundRepeat:"repeat-x",backgroundPosition:"100% 100%",fontSize:"xx-large",fontWeight:"bold",padding:"20px 5px",fontFamily:"courier, monospace",resize:"none",borderRadius:"10px"},onChange:function(e){R(e.target.value)},autoFocus:!0})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)(AnswerInput,{startInTextMode:!1,tutorialStep:H,currentAnswer:T,selectedElement:X,answerBlockData:L,currentStreak:q,setCurrentAnswer:R,answer:de,handleCodeButtonClick:be}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("button",{onClick:function(){te(!ee),W(!0),P||(ce(oe+3),K(0))},ref:9===H?X:null,disabled:0!==H&&9!==H,children:["Click to"," ",ee?"hide answer":"show answer (+3 problems to solve)"]}),Object(i.jsx)("div",{style:{display:ee?"block":"none"},children:de}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("p",{children:Object(i.jsx)(b.a,{to:"/map",onClick:function(e){return window.confirm("Are you sure? If you return to the map, you'll need to start this level from the beginning.")||e.preventDefault()},children:"Quit, and go back to the level map!"})})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{style:{color:"green"},children:"SUCCESS! Leveled Up!"}),Object(i.jsx)(b.a,{to:"/map",children:"Go back to the map!"})]})]})}var _=n(28),v=n.p+"static/media/open-treasure-chest-gold.svg.8c7a6d8b.png";function y(e){var t=e.spells,n=e.setSpells,r=e.isOpened,c=e.setOpened,s=Object(g.n)().level,d=void 0===s?0:s,p=r(d),j=o.a.useState(null),h=Object(l.a)(j,2),x=h[0],f=h[1],m=o.a.useState(!1),O=Object(l.a)(m,2),y=O[0],k=O[1];return o.a.useEffect((function(){console.log("/treasure".concat(d,".json")),fetch("/treasure".concat(d,".json")).then((function(e){return e.json()})).then((function(e){return f(e)}))}),[d]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(u,{spells:t,disabled:!0}),p?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:null===x||void 0===x?void 0:x.openedHeading}),Object(i.jsx)("p",{children:Object(i.jsx)("img",{src:v,alt:"Open treasure chest with gold",width:"100"})}),Object(i.jsx)("p",{children:null===x||void 0===x?void 0:x.description}),(null===x||void 0===x?void 0:x.usage)&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Example usage:"}),Object(i.jsx)("pre",{children:x.usage})]}),(null===x||void 0===x?void 0:x.output)&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Output from spell:"}),Object(i.jsx)(_.a,{code:x.usage,runCallback:function(){return k(!0)}})]}),Object(i.jsx)(b.a,{to:"/map",style:{animation:y?"textBlink 500ms 3":"",backgroundColor:y?"gold":"white"},children:"Go forward"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:null===x||void 0===x?void 0:x.closedHeading}),Object(i.jsx)("img",{src:a,style:{width:"200px",height:"auto"},alt:"treasure",onClick:function(e){x&&(c(!0),t.includes(null===x||void 0===x?void 0:x.treasure)||n(t.concat(null===x||void 0===x?void 0:x.treasure)))}}),Object(i.jsx)("h2",{children:"Click the box above to open!"})]})]})}var k=n(11);function C(){var e=function(e){return x.findIndex((function(t){return"treasure"===t.type&&t.num===parseInt(e,10)}))<d},t=o.a.useState(JSON.parse(localStorage.getItem("spells"))||[]),n=Object(l.a)(t,2),r=n[0],c=n[1],a=o.a.useState(parseInt(localStorage.getItem("currentLevel"),10)||0),u=Object(l.a)(a,2),d=u[0],p=u[1],j=o.a.useState([{type:"treasure",num:0},{type:"level",num:1},{type:"treasure",num:1},{type:"level",num:2},{type:"treasure",num:2},{type:"level",num:3},{type:"treasure",num:3},{type:"level",num:4},{type:"treasure",num:4},{type:"level",num:5},{type:"treasure",num:5}].map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{index:t})}))),b=Object(l.a)(j,2),x=b[0];b[1];function f(){console.log("CL",d),localStorage.setItem("currentLevel",d+1),p(d+1)}return o.a.useEffect((function(){localStorage.setItem("spells",JSON.stringify(r))}),[r]),Object(i.jsx)("div",{className:"App",style:{marginTop:"45px"},children:Object(i.jsx)(k.a,{children:Object(i.jsxs)(g.c,{children:[Object(i.jsx)(g.a,{path:"/",exact:!0,element:Object(i.jsx)(y,{spells:r,setSpells:c,isOpened:e,setOpened:f})}),Object(i.jsx)(g.a,{path:"/codejaadoo",exact:!0,element:Object(i.jsx)(y,{spells:r,setSpells:c,isOpened:e,setOpened:f})}),Object(i.jsx)(g.a,{path:"/map",exact:!0,element:Object(i.jsx)(h,{levels:x,currentLevel:d,spells:r})}),Object(i.jsx)(g.a,{path:"/level/:level",exact:!0,element:Object(i.jsx)(O,{spells:r,setClearedLevel:f})}),Object(i.jsx)(g.a,{path:"/treasure/:level",exact:!0,element:Object(i.jsx)(y,{spells:r,setSpells:c,isOpened:e,setOpened:f})})]})})})}var w=document.getElementById("root");Object(c.createRoot)(w).render(Object(i.jsx)(r.StrictMode,{children:Object(i.jsx)(C,{})}))}},[[41,1,2]]]);
//# sourceMappingURL=main.729bc66a.chunk.js.map